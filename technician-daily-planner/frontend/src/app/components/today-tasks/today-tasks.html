<div class="tasks-container">
    <h2>Today's Tasks</h2>

    <div *ngIf="isLoading" class="loading-state">
        <p>Loading tasks...</p>
    </div>

    <div *ngIf="!isLoading && tasks.length === 0" class="empty-state">
        <p>No tasks scheduled for today.</p>
    </div>

    <div *ngIf="!isLoading && tasks.length > 0" class="tasks-grid">
        <div *ngFor="let task of tasks" class="task-card" [class.completed]="task.status === 'Completed'">
            <div class="task-header">
                <span class="task-type" [ngClass]="task.taskType.toLowerCase()">{{ task.taskType }}</span>
                <div class="status-group">
                    <label class="checkbox-container" *ngIf="task.status !== 'Completed'">
                        <input type="checkbox" (change)="onComplete(task, $event)">
                        <span class="checkmark"></span>
                    </label>
                    <span class="task-status" [ngClass]="task.status?.toLowerCase() || 'pending'">{{ task.status
                        }}</span>
                </div>
            </div>

            <h3>{{ task.customerName }}</h3>

            <div class="task-details">
                <p><strong><i class="icon">ğŸ“</i> Location:</strong> {{ task.location }}</p>
                <p><strong><i class="icon">ğŸ•’</i> Time:</strong> {{ task.scheduledTime | date:'shortTime' }}</p>
            </div>

            <div *ngIf="task.notes" class="task-notes">
                <p><strong>Notes:</strong> {{ task.notes }}</p>
            </div>

        </div>
    </div>
</div>